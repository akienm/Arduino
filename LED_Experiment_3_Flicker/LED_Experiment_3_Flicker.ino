// LED Fire Effect

int redPin = 9;
int greenPin = 10;
int bluePin = 11;

int redEnable = 1;
int greenEnable = 1;
int blueEnable = 1;

int minDelayTime = 80;
int delayTime = 160;

int kLoForTable = 1200;
int kHiForTable = 2000;
int stepSize = 10;
int indexTotal = 80;
int rTable[] = {255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255};
int gTable[] = {81, 82, 83, 84, 85, 86, 87, 88, 88, 89, 90, 91, 92, 93, 94, 95, 95, 96, 97, 98, 99, 99, 100, 101, 102, 103, 103, 104, 105, 106, 106, 107, 108, 109, 109, 110, 111, 112, 112, 113, 114, 114, 115, 116, 116, 117, 118, 118, 119, 120, 120, 121, 122, 122, 123, 124, 124, 125, 125, 126, 127, 127, 128, 129, 129, 130, 130, 131, 131, 132, 133, 133, 134, 134, 135, 135, 136, 137, 137, 138, 138};
int bTable[] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 23};
int rgbTable[] = {255,81,0, 255,82,0, 255,83,0, 255,84,0, 255,85,0, 255,86,0, 255,87,0, 255,88,0, 255,88,0, 255,89,0, 255,90,0, 255,91,0, 255,92,0, 255,93,0, 255,94,0, 255,95,0, 255,95,0, 255,96,0, 255,97,0, 255,98,0, 255,99,0, 255,99,0, 255,100,0, 255,101,0, 255,102,0, 255,103,0, 255,103,0, 255,104,0, 255,105,0, 255,106,0, 255,106,0, 255,107,0, 255,108,0, 255,109,0, 255,109,0, 255,110,0, 255,111,0, 255,112,0, 255,112,0, 255,113,0, 255,114,0, 255,114,0, 255,115,0, 255,116,0, 255,116,0, 255,117,0, 255,118,0, 255,118,0, 255,119,0, 255,120,0, 255,120,0, 255,121,0, 255,122,0, 255,122,0, 255,123,0, 255,124,0, 255,124,0, 255,125,0, 255,125,0, 255,126,0, 255,127,0, 255,127,0, 255,128,0, 255,129,0, 255,129,0, 255,130,0, 255,130,0, 255,131,0, 255,131,0, 255,132,0, 255,133,0, 255,133,0, 255,134,0, 255,134,0, 255,135,0, 255,135,0, 255,136,0, 255,137,0, 255,137,0, 255,138,0, 255,138,23};

int index;

void setup()
{
  pinMode(redPin, OUTPUT);
  pinMode(greenPin, OUTPUT);
  pinMode(bluePin, OUTPUT);
}

void loop() {
  bool direction;
  int  stepBand;
  int  stepSize;
  int  stepTable[] = {};

  index = random(indexTotal - 1);
  
  analogWrite(redPin, rTable[index] * redEnable);
  analogWrite(greenPin, gTable[index] * greenEnable);
  analogWrite(bluePin, bTable[index] * blueEnable);

  delay(minDelayTime + random(delayTime));
}
